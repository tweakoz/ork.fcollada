<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>FCollada: FMath/FMVector3.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>FMath/FMVector3.h</h1><a href="_f_m_vector3_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment">    Copyright (C) 2005-2007 Feeling Software Inc.</span>
<a name="l00003"></a>00003 <span class="comment">    Portions of the code are:</span>
<a name="l00004"></a>00004 <span class="comment">    Copyright (C) 2005-2007 Sony Computer Entertainment America</span>
<a name="l00005"></a>00005 <span class="comment">    </span>
<a name="l00006"></a>00006 <span class="comment">    MIT License: http://www.opensource.org/licenses/mit-license.php</span>
<a name="l00007"></a>00007 <span class="comment">*/</span>
<a name="l00008"></a>00008 
<a name="l00013"></a>00013 <span class="preprocessor">#ifndef _FM_VECTOR3_H_</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="preprocessor">#define _FM_VECTOR3_H_</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span>
<a name="l00016"></a>00016 <span class="keyword">class </span>FMVector4;
<a name="l00017"></a>00017 
<a name="l00026"></a>00026 <span class="keyword">class </span>FCOLLADA_EXPORT <a class="code" href="group___f_math.html#g802f5e830124fcb94a9f0351b4363e4e">ALIGN_STRUCT</a>(16) FMVector3
<a name="l00027"></a>00027 {
<a name="l00028"></a>00028 <span class="keyword">public</span>:
<a name="l00029"></a>00029     <span class="keywordtype">float</span> x;    
<a name="l00030"></a>00030     <span class="keywordtype">float</span> y;    
<a name="l00031"></a>00031     <span class="keywordtype">float</span> z;    
<a name="l00032"></a>00032 <span class="keyword">private</span>:
<a name="l00033"></a>00033     <span class="keywordtype">float</span> w;    <span class="comment">// For alignment purposes.</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="keyword">public</span>:
<a name="l00039"></a>00039 <span class="preprocessor">    #ifndef _DEBUG</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span>    <span class="keyword">inline</span> FMVector3() {}
<a name="l00041"></a>00041 <span class="preprocessor">    #else</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>    <span class="keyword">inline</span> FMVector3() { x = 123456789.0f; y = 123456789.0f; z = 123456789.0f; }
<a name="l00043"></a>00043 <span class="preprocessor">    #endif </span>
<a name="l00044"></a>00044 <span class="preprocessor"></span>
<a name="l00049"></a>00049     <span class="keyword">inline</span> FMVector3(<span class="keywordtype">float</span> _x, <span class="keywordtype">float</span> _y, <span class="keywordtype">float</span> _z) { x = _x; y = _y; z = _z; }
<a name="l00050"></a>00050 
<a name="l00053"></a>00053     <span class="keyword">inline</span> FMVector3(<span class="keyword">const</span> FMVector3&amp; rhs) { x = rhs.x; y = rhs.y; z = rhs.z; }
<a name="l00054"></a>00054 
<a name="l00058"></a>00058     FMVector3(<span class="keyword">const</span> FMVector4&amp; vect4);
<a name="l00059"></a>00059 
<a name="l00066"></a>00066     FMVector3(<span class="keyword">const</span> <span class="keywordtype">float</span>* source, uint32 startIndex = 0);
<a name="l00067"></a>00067     FMVector3(<span class="keyword">const</span> <span class="keywordtype">double</span>* source, uint32 startIndex = 0); 
<a name="l00071"></a>00071     <span class="keyword">inline</span> <span class="keywordtype">float</span> LengthSquared()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> x * x + y * y + z * z; }
<a name="l00072"></a>00072 
<a name="l00075"></a>00075     <span class="keyword">inline</span> <span class="keywordtype">float</span> Length()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> sqrtf(x * x + y * y + z * z); }
<a name="l00076"></a>00076 
<a name="l00078"></a>00078     <span class="keyword">inline</span> <span class="keywordtype">void</span> NormalizeIt() { <span class="keywordtype">float</span> l = Length(); <span class="keywordflow">if</span> (l &gt; 0.0f) { x /= l; y /= l; z /= l; } <span class="keywordflow">else</span> { x = y = 0; z = 1; }}
<a name="l00079"></a>00079 
<a name="l00082"></a>00082     <span class="keyword">inline</span> FMVector3 Normalize()<span class="keyword"> const </span>{ <span class="keywordtype">float</span> l = Length(); <span class="keywordflow">return</span> (l &gt; 0.0f) ? FMVector3(x / l, y / l, z / l) : FMVector3::XAxis; }
<a name="l00083"></a>00083 
<a name="l00086"></a>00086     <span class="keyword">inline</span> <span class="keywordtype">void</span> Project(<span class="keyword">const</span> FMVector3&amp; unto) { (*this) = Projected(unto); }
<a name="l00087"></a>00087 
<a name="l00091"></a>00091     <span class="keyword">inline</span> FMVector3 Projected(<span class="keyword">const</span> FMVector3&amp; unto) <span class="keyword">const</span>;
<a name="l00092"></a>00092 
<a name="l00095"></a>00095     <span class="keyword">inline</span> operator float*() { <span class="keywordflow">return</span> &amp;x; }
<a name="l00096"></a>00096 
<a name="l00099"></a>00099     <span class="keyword">inline</span> operator const float*()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;x; }
<a name="l00100"></a>00100 
<a name="l00105"></a>00105     <span class="keyword">inline</span> <span class="keywordtype">void</span> Set(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z) { this-&gt;x = x; this-&gt;y = y, this-&gt;z = z; }
<a name="l00106"></a>00106 
<a name="l00113"></a>00113     <span class="keyword">inline</span> FMVector3&amp; operator =(<span class="keyword">const</span> <span class="keywordtype">float</span>* v) { x = *v; y = *(v + 1); z = *(v + 2); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00114"></a>00114 
<a name="l00118"></a>00118     <span class="keyword">inline</span> FMVector3&amp; operator =(<span class="keyword">const</span> FMVector3&amp; rhs) { x=rhs.x; y=rhs.y; z=rhs.z; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00119"></a>00119 
<a name="l00124"></a>00124     <span class="keyword">inline</span> <span class="keywordtype">void</span> ComponentMinimum(<span class="keyword">const</span> FMVector3&amp; <a class="code" href="_f_utils_8h.html#8a3d121225565de4d119d65c9e979d1c">min</a>) { <span class="keywordflow">if</span> (x &lt; min.x) x = min.x; <span class="keywordflow">if</span> (y &lt; min.y) y = min.y; <span class="keywordflow">if</span> (z &lt; min.z) z = min.z; }
<a name="l00125"></a>00125 
<a name="l00128"></a>00128     <span class="keyword">inline</span> <span class="keywordtype">float</span> ComponentMinimum()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="_f_utils_8h.html#8a3d121225565de4d119d65c9e979d1c">min</a>(fabsf(x), <a class="code" href="_f_utils_8h.html#8a3d121225565de4d119d65c9e979d1c">min</a>(fabsf(y), fabsf(z))); }
<a name="l00129"></a>00129 
<a name="l00134"></a>00134     <span class="keyword">inline</span> <span class="keywordtype">void</span> ComponentMaximum(<span class="keyword">const</span> FMVector3&amp; <a class="code" href="_f_utils_8h.html#6bf30fb9bdb34fc0712cfbc99a29a42f">max</a>) { <span class="keywordflow">if</span> (x &gt; max.x) x = max.x; <span class="keywordflow">if</span> (y &gt; max.y) y = max.y; <span class="keywordflow">if</span> (z &gt; max.z) z = max.z; }
<a name="l00135"></a>00135 
<a name="l00138"></a>00138     <span class="keyword">inline</span> <span class="keywordtype">float</span> ComponentMaximum()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="_f_utils_8h.html#6bf30fb9bdb34fc0712cfbc99a29a42f">max</a>(fabsf(x), <a class="code" href="_f_utils_8h.html#6bf30fb9bdb34fc0712cfbc99a29a42f">max</a>(fabsf(y), fabsf(z))); }
<a name="l00139"></a>00139 
<a name="l00147"></a>00147     <span class="keyword">inline</span> <span class="keywordtype">void</span> ComponentClamp(<span class="keyword">const</span> FMVector3&amp; min, <span class="keyword">const</span> FMVector3&amp; max) { ComponentMinimum(min); ComponentMaximum(max); }
<a name="l00148"></a>00148 
<a name="l00151"></a>00151     <span class="keyword">inline</span> <span class="keywordtype">float</span> ComponentAverage()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (fabsf(x) + fabsf(y) + fabsf(z)) / 3.0f; }
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 <span class="keyword">public</span>:
<a name="l00154"></a>00154     <span class="keyword">static</span> <span class="keyword">const</span> FMVector3 XAxis; 
<a name="l00155"></a>00155     <span class="keyword">static</span> <span class="keyword">const</span> FMVector3 YAxis; 
<a name="l00156"></a>00156     <span class="keyword">static</span> <span class="keyword">const</span> FMVector3 ZAxis; 
<a name="l00157"></a>00157     <span class="keyword">static</span> <span class="keyword">const</span> FMVector3 Origin;
<a name="l00158"></a>00158     <span class="keyword">static</span> <span class="keyword">const</span> FMVector3 Zero;  
<a name="l00159"></a>00159     <span class="keyword">static</span> <span class="keyword">const</span> FMVector3 One;   
<a name="l00160"></a>00160 };
<a name="l00161"></a>00161 
<a name="l00166"></a><a class="code" href="_f_m_vector3_8h.html#5ffc321dc0ae18da5c5e2ba229305eaf">00166</a> <span class="keyword">inline</span> FMVector3 <a class="code" href="_f_m_vector2_8h.html#27199a28e5bb94856ebc59f994365bc6">operator +</a>(<span class="keyword">const</span> FMVector3&amp; a, <span class="keyword">const</span> FMVector3&amp; b) { <span class="keywordflow">return</span> FMVector3(a.x + b.x, a.y + b.y, a.z + b.z); }
<a name="l00167"></a>00167 
<a name="l00172"></a><a class="code" href="_f_m_vector3_8h.html#dbb45411d988a2712d646bf0ab705f12">00172</a> <span class="keyword">inline</span> FMVector3 <a class="code" href="_f_m_vector2_8h.html#41c213203696d0450c6e36b9419f833d">operator -</a>(<span class="keyword">const</span> FMVector3&amp; a, <span class="keyword">const</span> FMVector3&amp; b) { <span class="keywordflow">return</span> FMVector3(a.x - b.x, a.y - b.y, a.z - b.z); }
<a name="l00173"></a>00173 
<a name="l00178"></a><a class="code" href="_f_m_vector3_8h.html#a2e23c9914c11ffe362c32a007fea139">00178</a> <span class="keyword">inline</span> FMVector3 <a class="code" href="_f_m_vector2_8h.html#27199a28e5bb94856ebc59f994365bc6">operator +</a>(<span class="keyword">const</span> FMVector3&amp; a) { <span class="keywordflow">return</span> FMVector3(+a.x, +a.y, +a.z); }
<a name="l00179"></a>00179 
<a name="l00184"></a><a class="code" href="_f_m_vector3_8h.html#69da9cd66caf832daadeb68f57ac0c14">00184</a> <span class="keyword">inline</span> FMVector3 <a class="code" href="_f_m_vector2_8h.html#41c213203696d0450c6e36b9419f833d">operator -</a>(<span class="keyword">const</span> FMVector3&amp; a) { <span class="keywordflow">return</span> FMVector3(-a.x, -a.y, -a.z); }
<a name="l00185"></a>00185 
<a name="l00190"></a><a class="code" href="_f_m_vector3_8h.html#6cfb75dea153516fa7d987f71d0b2e64">00190</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="_f_m_color_8h.html#58f3a16b2bf52b6aab8c7143d202a02a">operator *</a>(<span class="keyword">const</span> FMVector3&amp; a, <span class="keyword">const</span> FMVector3&amp; b) { <span class="keywordflow">return</span> a.x * b.x + a.y * b.y + a.z * b.z; }
<a name="l00191"></a>00191 
<a name="l00196"></a><a class="code" href="_f_m_vector3_8h.html#ffefdbd78ebbc59b753e90a7c65794e0">00196</a> <span class="keyword">inline</span> FMVector3 <a class="code" href="_f_m_color_8h.html#58f3a16b2bf52b6aab8c7143d202a02a">operator *</a>(<span class="keyword">const</span> FMVector3&amp; a, <span class="keywordtype">float</span> b) { <span class="keywordflow">return</span> FMVector3(a.x * b, a.y * b, a.z * b); }
<a name="l00197"></a>00197 
<a name="l00202"></a><a class="code" href="_f_m_vector3_8h.html#51f9180e5c14c26a89dba945b0383052">00202</a> <span class="keyword">inline</span> FMVector3 <a class="code" href="_f_m_color_8h.html#58f3a16b2bf52b6aab8c7143d202a02a">operator *</a>(<span class="keywordtype">float</span> a, <span class="keyword">const</span> FMVector3&amp; b) { <span class="keywordflow">return</span> FMVector3(a * b.x, a * b.y, a * b.z); }
<a name="l00203"></a>00203 
<a name="l00208"></a><a class="code" href="_f_m_vector3_8h.html#c4a4e21e545268029d2c696fc9a971d4">00208</a> <span class="keyword">inline</span> FMVector3 <a class="code" href="_f_m_vector2_8h.html#a7766fec6eb85285ec8ebc426f778364">operator /</a>(<span class="keyword">const</span> FMVector3&amp; a, <span class="keywordtype">float</span> b) { <span class="keywordflow">return</span> FMVector3(a.x / b, a.y / b, a.z / b); }
<a name="l00209"></a>00209 
<a name="l00214"></a><a class="code" href="_f_m_vector3_8h.html#f3b0e449c19f4c4b9743f5c234dd9cb4">00214</a> <span class="keyword">inline</span> FMVector3 <a class="code" href="_f_m_vector3_8h.html#f3b0e449c19f4c4b9743f5c234dd9cb4">operator ^</a>(<span class="keyword">const</span> FMVector3&amp; a, <span class="keyword">const</span> FMVector3&amp; b) { <span class="keywordflow">return</span> FMVector3(a.y * b.z - a.z * b.y, a.z * b.x - a.x * b.z, a.x * b.y - a.y * b.x); }
<a name="l00215"></a>00215 
<a name="l00220"></a><a class="code" href="_f_m_vector3_8h.html#e1f49c3b19d4b5a7f592d1f11747d20f">00220</a> <span class="keyword">inline</span> FMVector3&amp; <a class="code" href="_f_m_vector3_8h.html#e1f49c3b19d4b5a7f592d1f11747d20f">operator +=</a>(FMVector3&amp; b, <span class="keyword">const</span> FMVector3&amp; a) { b.x += a.x; b.y += a.y; b.z += a.z; <span class="keywordflow">return</span> b; }
<a name="l00221"></a>00221 
<a name="l00226"></a><a class="code" href="_f_m_vector3_8h.html#e977fb636b011eab59ead7c010b6c70f">00226</a> <span class="keyword">inline</span> FMVector3&amp; <a class="code" href="_f_m_vector3_8h.html#e977fb636b011eab59ead7c010b6c70f">operator -=</a>(FMVector3&amp; b, <span class="keyword">const</span> FMVector3&amp; a) { b.x -= a.x; b.y -= a.y; b.z -= a.z; <span class="keywordflow">return</span> b; }
<a name="l00227"></a>00227 
<a name="l00232"></a><a class="code" href="_f_m_vector3_8h.html#06a811f0b531280df0aaa821edd2c904">00232</a> <span class="keyword">inline</span> FMVector3&amp; <a class="code" href="_f_m_matrix44_8h.html#b16460452b7bf151047683ce149f6eb2">operator *=</a>(FMVector3&amp; b, <span class="keywordtype">float</span> a) { b.x *= a; b.y *= a; b.z *= a; <span class="keywordflow">return</span> b; }
<a name="l00233"></a>00233 
<a name="l00238"></a><a class="code" href="_f_m_vector3_8h.html#cdab4fc070de74c699b7b33c7c47210d">00238</a> <span class="keyword">inline</span> FMVector3&amp; <a class="code" href="_f_m_vector3_8h.html#cdab4fc070de74c699b7b33c7c47210d">operator /=</a>(FMVector3&amp; b, <span class="keywordtype">float</span> a) { b.x /= a; b.y /= a; b.z /= a; <span class="keywordflow">return</span> b; }
<a name="l00239"></a>00239 
<a name="l00244"></a><a class="code" href="_f_m_vector3_8h.html#531db245ecc1122b02ae2de0585ccc14">00244</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="_f_m_array_8h.html#2f0e1557b3bde6d046338a03ec062484">IsEquivalent</a>(<span class="keyword">const</span> FMVector3&amp; p, <span class="keyword">const</span> FMVector3&amp; q) { <span class="keywordflow">return</span> <a class="code" href="_f_m_array_8h.html#2f0e1557b3bde6d046338a03ec062484">IsEquivalent</a>(p.x, q.x) &amp;&amp; <a class="code" href="_f_m_array_8h.html#2f0e1557b3bde6d046338a03ec062484">IsEquivalent</a>(p.y, q.y) &amp;&amp; <a class="code" href="_f_m_array_8h.html#2f0e1557b3bde6d046338a03ec062484">IsEquivalent</a>(p.z, q.z); }
<a name="l00245"></a><a class="code" href="_f_m_vector3_8h.html#6b6568c6c891ff011341d5d09a00ef9d">00245</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="_f_m_angle_axis_8h.html#81ad03e18d766464d04d1db3314e9d62">operator == </a>(<span class="keyword">const</span> FMVector3&amp; p, <span class="keyword">const</span> FMVector3&amp; q) { <span class="keywordflow">return</span> <a class="code" href="_f_m_array_8h.html#2f0e1557b3bde6d046338a03ec062484">IsEquivalent</a>(p, q); } 
<a name="l00247"></a>00247 <span class="comment">// Already documented above.</span>
<a name="l00248"></a>00248 <span class="keyword">inline</span> FMVector3 FMVector3::Projected(<span class="keyword">const</span> FMVector3&amp; unto)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ((*<span class="keyword">this</span>) * unto) / unto.LengthSquared() * unto; }
<a name="l00249"></a>00249 
<a name="l00251"></a><a class="code" href="_f_m_vector3_8h.html#d2c8ee796fe2c76e32779afe4e64a4bf">00251</a> <span class="keyword">typedef</span> <a class="code" href="classfm_1_1vector.html">fm::vector&lt;FMVector3&gt;</a> <a class="code" href="classfm_1_1vector.html">FMVector3List</a>;
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 <span class="preprocessor">#endif // _FM_VECTOR3_H_</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Mon Dec 17 13:25:00 2007 for FCollada by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
